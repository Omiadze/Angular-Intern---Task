<div class="mb-4 w-1/3">
  <nz-input-group [nzSuffix]="suffixIconSearch">
    <input
      type="text"
      nz-input
      placeholder="Search by name, username, or email"
      [(ngModel)]="searchValue"
      (ngModelChange)="onSearchChange($event)"
    />
  </nz-input-group>
  <ng-template #suffixIconSearch>
    <nz-icon nzType="search" />
  </ng-template>
</div>

<nz-spin *ngIf="loading" class="w-full h-screen flex justify-center items-center"></nz-spin>

<nz-table
  #basicTable
  *ngIf="!loading"
  [nzBordered]="true"
  [nzScroll]="{ x: '1100px' }"
  [nzData]="filteredUsers"
  [nzPageSize]="10"
  [nzFrontPagination]="true"
  [nzShowPagination]="true"
  nzShowSizeChanger="false"
>
  <thead class="">
    <tr>
      <th>Name</th>
      <th>Username</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Company</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of basicTable.data">
      <td>{{ user.name }}</td>
      <td>{{ user.username }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.phone }}</td>
      <td>{{ user.company.name }}</td>
      <td>
        <div class="flex gap-1">
          <button
            nz-button
            nzType="primary"
            (click)="viewPosts(user)"
            class="hover:scale-105 transition-transform duration-200 rounded-2xl! text-xs!"
          >
            POSTS
          </button>
          <button
            nz-button
            nzType="default"
            (click)="viewTodos(user)"
            class="hover:scale-105 transition-transform duration-200 rounded-2xl! text-xs!"
          >
            TODOS
            <nz-icon nzType="file-done" nzTheme="outline" />
          </button>
        </div>
      </td>
    </tr>
  </tbody>
</nz-table>
